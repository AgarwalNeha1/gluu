<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<f:view xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:s="http://jboss.org/schema/seam/taglib"
	xmlns:gluufn="http://www.gluu.org/jsf/functions"
	contentType="text/html">

	<h:head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<title>#{organizationService.organization.organizationTitle}</title>
		<script type="text/javascript">
			if (top != self)
				top.location.href = self.document.location;
			if (parent != self)
				top.location.href = location.href;
			if (top.frames.length != 0)
				top.location.href = self.document.location;
			if (window != window.top)
				top.location.href = location.href;
		</script>

		<link rel="shortcut icon"
			href="#{request.contextPath}/servlet/favicon?v=#{faviconImageServlet.faviconTimestamp}" />
		<link rel="icon"
			href="#{request.contextPath}/servlet/favicon?v=#{faviconImageServlet.faviconTimestamp}" />

		<script type="text/javascript"
			src="#{oxTrustConfigurationService.jsLocation}/gluuCommon.js"></script>
		<h:outputScript name="jquery.js" />
		<ui:param name="themeColor"
			value="#{organizationService.organization.themeColor}" />
		<s:fragment rendered="#{not empty themeColor}">
		<style type="text/css">
		
		
		
		
		.rf-tb-itm, .rf-tb-emp {
			height: 33px;
			background-color: #{gluufn:getColor(themeColor, "00ff00")
		}
		
		 
		</style>
		</s:fragment>
		
		<!-- Stylesheets new theme -->
		<link
			href="#{oxTrustConfigurationService.cssLocation}/../theme/bootstrap/css/bootstrap.min.css"
			rel="stylesheet" type="text/css" />
		<link
			href="#{oxTrustConfigurationService.cssLocation}/../theme/bootstrap/css/font-awesome.min.css"
			rel="stylesheet" type="text/css" />
		<link
			href="#{oxTrustConfigurationService.cssLocation}/../theme/bootstrap/css/ionicons.min.css"
			rel="stylesheet" type="text/css" />
		<link
			href="#{oxTrustConfigurationService.cssLocation}/../theme/dist/css/AdminLTE.min.css"
			rel="stylesheet" type="text/css" />
		<link
			href="#{oxTrustConfigurationService.cssLocation}/../theme/dist/css/skins/_all-skins.min.css"
			rel="stylesheet" type="text/css" />
		<link
			href="#{oxTrustConfigurationService.cssLocation}/../theme/plugins/iCheck/square/blue.css"
			rel="stylesheet" type="text/css" />
		<link
			href="#{oxTrustConfigurationService.cssLocation}/../theme/plugins/morris/morris.css"
			rel="stylesheet" type="text/css" />
		<link
			href="#{oxTrustConfigurationService.cssLocation}/../theme/plugins/datepicker/datepicker3.css"
			rel="stylesheet" type="text/css" />
		<!--[if lt IE 9]>
        	<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
			<script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
		<![endif]-->
		<link
			href="#{oxTrustConfigurationService.cssLocation}/../theme/dist/css/custom.css"
			rel="stylesheet" type="text/css" />
		<link
			href="#{oxTrustConfigurationService.cssLocation}/../theme/dist/css/rf-override.css"
			rel="stylesheet" type="text/css" />
		<ui:insert name="head" />

	</h:head>
	<h:body styleClass="skin-green">
		<div class="wrapper">
			<h:panelGroup layout="block"
				rendered="#{s:hasPermission('configuration', 'access') or s:hasPermission('scim', 'access') or s:hasPermission('attribute', 'access') or s:hasPermission('configuration', 'access')}">
				<ui:include src="newmenu.xhtml">
					<ui:param name="projectName" value="oxTrust" />
				</ui:include>
			</h:panelGroup>
			
			<ui:include src="leftmenu.xhtml">
					<ui:param name="projectName" value="oxTrust" />
			</ui:include>
				
			<div class="#{not isLogin?'body':'loginBody'}">
				
				<div class="content-wrapper">
					<h:messages style="display: none;" id="messages" globalOnly="true"
						styleClass="message" errorClass="errormsg" infoClass="infomsg"
						warnClass="warnmsg" rendered="#{showGlobalMessages != 'false'}" />
					<ui:insert name="body" />
				</div>
			</div>		

		</div>

		<!-- Scripts -->
		<script
			src="#{oxTrustConfigurationService.cssLocation}/../theme/bootstrap/js/bootstrap.min.js"
			type="text/javascript"></script>
		<script
			src="#{oxTrustConfigurationService.cssLocation}/../theme/dist/js/app.min.js"
			type="text/javascript"></script>
		<script
			src="#{oxTrustConfigurationService.cssLocation}/../theme/plugins/iCheck/icheck.min.js"
			type="text/javascript"></script>

		<script type="text/javascript">
			$(document)
					.ready(
							function() {
								$('input').iCheck({
									checkboxClass : 'icheckbox_square-blue',
									radioClass : 'iradio_square-blue',
									increaseArea : '20%' // optional
								});

								//Menu Highlights - Configuration
								if (window.location.href
										.indexOf("organization/configuration") > -1) {
									$('#subMenuConfiguration').css('display',
											'block');
									$('#menuConfiguration').addClass('active');
									$('#subMenuLinkConfiguration1').addClass(
											'active');
								}

								if (window.location.href
										.indexOf("configuration/jsonConfig") > -1) {
									$('#subMenuConfiguration').css('display',
											'block');
									$('#menuConfiguration').addClass('active');
									$('#subMenuLinkConfiguration2').addClass(
											'active');
								}

								if (window.location.href
										.indexOf("authentication/configuration") > -1) {
									$('#subMenuConfiguration').css('display',
											'block');
									$('#menuConfiguration').addClass('active');
									$('#subMenuLinkConfiguration3').addClass(
											'active');
								}

								if (window.location.href
										.indexOf("script/configuration") > -1) {
									$('#subMenuConfiguration').css('display',
											'block');
									$('#menuConfiguration').addClass('active');
									$('#subMenuLinkConfiguration4').addClass(
											'active');
								}

								if (window.location.href
										.indexOf("configuration/registration") > -1) {
									$('#subMenuConfiguration').css('display',
											'block');
									$('#menuConfiguration').addClass('active');
									$('#subMenuLinkConfiguration5').addClass(
											'active');
								}

								

								if (window.location.href
										.indexOf("attribute/inventory") > -1) {
									$('#subMenuConfiguration').css('display',
											'block');
									$('#menuConfiguration').addClass('active');
									$('#subMenuLinkConfiguration7').addClass(
											'active');
								}

								if (window.location.href
										.indexOf("organization/cacherefresh") > -1) {
									$('#subMenuConfiguration').css('display',
											'block');
									$('#menuConfiguration').addClass('active');
									$('#subMenuLinkConfiguration8').addClass(
											'active');
								}

								if (window.location.href
										.indexOf("logviewer/configure") > -1) {
									$('#subMenuConfiguration').css('display',
											'block');
									$('#menuConfiguration').addClass('active');
									$('#subMenuLinkConfiguration9').addClass(
											'active');
								}

								if (window.location.href
										.indexOf("logviewer/view") > -1) {
									$('#subMenuConfiguration').css('display',
											'block');
									$('#menuConfiguration').addClass('active');
									$('#subMenuLinkConfiguration10').addClass(
											'active');
								}

								if (window.location.href
										.indexOf("status/appliance") > -1) {
									$('#subMenuConfiguration').css('display',
											'block');
									$('#menuConfiguration').addClass('active');
									$('#subMenuLinkConfiguration11').addClass(
											'active');
								}

								//Menu Highlights - SAML
								if (window.location.href
										.indexOf("trustmanager/relationships") > -1) {
									$('#subMenuSAML').css('display', 'block');
									$('#menuSAML').addClass('active');
									$('#subMenuLinkSAML1').addClass('active');
								}

								//Menu Highlights - OpenID Connect
								if (window.location.href
										.indexOf("scope/inventory") > -1) {
									$('#subMenuOpenID').css('display', 'block');
									$('#menuOpenID').addClass('active');
									$('#subMenuLinkOpenID1').addClass('active');
								}

								if (window.location.href
										.indexOf("client/inventory") > -1) {
									$('#subMenuOpenID').css('display', 'block');
									$('#menuOpenID').addClass('active');
									$('#subMenuLinkOpenID2').addClass('active');
								}

								//Menu Highlights - UMA
								if (window.location.href
										.indexOf("uma/inventory") > -1) {
									$('#subMenuUMA').css('display', 'block');
									$('#menuUMA').addClass('active');
									//$('#subMenuLinkUMA1').addClass('active');
								}

								if (window.location.href
										.indexOf("uma/inventory") > -1) {
									$('#subMenuUMA').css('display', 'block');
									$('#menuUMA').addClass('active');
									//$('#subMenuLinkUMA2').addClass('active');
								}

								//Menu Highlights - Users
								if (window.location.href
										.indexOf("group/inventory") > -1) {
									$('#subMenuUsers').css('display', 'block');
									$('#menuUsers').addClass('active');
									$('#subMenuLinkUsers1').addClass('active');
								}

								if (window.location.href
										.indexOf("person/inventory") > -1) {
									$('#subMenuUsers').css('display', 'block');
									$('#menuUsers').addClass('active');
									$('#subMenuLinkUsers2').addClass('active');
								}

								if (window.location.href.indexOf("person/add") > -1) {
									$('#subMenuUsers').css('display', 'block');
									$('#menuUsers').addClass('active');
									$('#subMenuLinkUsers3').addClass('active');
								}
								
								if (window.location.href
										.indexOf("person/import") > -1) {
									$('#subMenuUsers').css('display',
											'block');
									$('#menuUsers').addClass('active');
									$('#subMenuLinkUsers4').addClass(
											'active');
								}

								if (window.location.href
										.indexOf("person/import") > -1) {
									//                         $('#subMenuUsers').css('display', 'block');
									//                         $('#menuUsers').addClass('active');
									//                         $('#subMenuLinkUsers4').addClass('active');
								}

								//Menu Highlights - Personal
								if (window.location.href
										.indexOf("profile/person/view") > -1) {
									$('#subMenuPersonal').css('display',
											'block');
									$('#menuPersonal').addClass('active');
									$('#subMenuLinkPersonal1').addClass(
											'active');
								}

								//Logo SubMenu
								$(".logo").hover(
										function() {
											$('.logoSubMenu').show(1000,
													"easeOutElastic");
										});
								$('.logoSubMenu').bind(
										'mouseleave',
										function() {
											$('.logoSubMenu').hide(1000,
													"easeOutElastic");
										});
							});
		</script>
<rich:notifyMessages stayTime="2000" nonblocking="true" />
	</h:body>
</f:view>
</html>
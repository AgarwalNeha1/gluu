<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:s="http://jboss.org/schema/seam/taglib"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:a4j="http://richfaces.org/a4j"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:richext="http://java.sun.com/jsf/composite/richext"
    xmlns:ox="http://java.sun.com/jsf/composite/ox"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    template="/WEB-INF/incl/layout/template.xhtml">

    <ui:define name="body">
		<div id="formArea">
            <h:panelGrid columns="1" border="0" cellpadding="0" cellspacing="0" width="100%">
				<h:form id="pendingRegistrationsList">
					<a4j:outputPanel id="updateRegistrationsList">
						<s:fragment rendered="#{pendingRegistrationsInventoryAction.pendingRegistrations.size eq 0}">
	                        <richext:spacer height="30" />
	                        <h:outputText value="No Pending Registrations Found" />
	                    </s:fragment>
	                     <rich:dataTable sortMode="single" id="relationshipstable" value="#{pendingRegistrationsInventoryAction.pendingRegistrations}" rows="20" 
	                    	styleClass="data sortable" var="tsps" rendered="#{pendingRegistrationsInventoryAction.pendingRegistrations.size gt 0}">
	                        <rich:column >
	                            <f:facet name="header">uid</f:facet>
	                            <h:outputText value="#{tsps.uid}" />
	                        </rich:column>
	                        <rich:column >
	                            <f:facet name="header">email</f:facet>
	                            <h:outputText value="#{tsps.mail}" />
	                        </rich:column>
	                        <rich:column >
	                            <f:facet name="header">name</f:facet>
	                            <h:outputText value="#{tsps.commonName}" />
	                        </rich:column>
	                        <rich:column >
	                            <a4j:commandButton value="Approve" action="#{pendingRegistrationsInventoryAction.approve}" render="updateRegistrationsList">
	                            	<a4j:param name="link" value="#{tsps.uid}"
										assignTo="#{pendingRegistrationsInventoryAction.currentPerson}" />
								</a4j:commandButton>
	                        </rich:column>
	                        <rich:column >
	                            <a4j:commandButton value="Decline" action="#{pendingRegistrationsInventoryAction.decline}"  render="updateRegistrationsList">
	                            	<a4j:param name="link" value="#{tsps.uid}"
										assignTo="#{pendingRegistrationsInventoryAction.currentPerson}" />
								</a4j:commandButton>
	                        </rich:column>
		                </rich:dataTable>
	               	</a4j:outputPanel>
				</h:form>
			</h:panelGrid>
		</div>
 
    </ui:define>
</ui:composition>
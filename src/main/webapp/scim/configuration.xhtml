<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:s="http://jboss.org/schema/seam/taglib"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:a4j="http://richfaces.org/a4j"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:richext="http://java.sun.com/jsf/composite/richext"
    template="/WEB-INF/incl/layout/template.xhtml">

    <ui:define name="body">
        <s:div id="formArea">
            <h:form>
                <h:panelGrid columns="1" width="100%">
                    <s:decorate template="/WEB-INF/incl/layout/edit.xhtml" id="_scimgroup">
                        <ui:define name="label">SCIM group</ui:define>
                        <s:link view="/group/updateGroup.xhtml" value="#{scimConfigurationAction.scimGroup.displayName}" propagation="none">
                            <f:param name="inum" value="#{scimConfigurationAction.scimGroup.inum}" />
                        </s:link>
                    </s:decorate>

                    <s:decorate template="/WEB-INF/incl/layout/edit.xhtml" id="_serviceStatus">
                        <ui:define name="label">SCIM Status:</ui:define>
                        <h:outputText value="#{scimConfigurationAction.organization.scimStatus.value eq 'active' ? 'Activated' : 'Deactivated'}" style="color:#{scimConfigurationAction.organization.scimStatus.value eq 'active' ? 'green' : 'red'};font-weight:bold" />
                    </s:decorate>

                    <div></div>
                    <s:decorate template="/WEB-INF/incl/layout/edit.xhtml" id="_authMode">
                        <ui:define name="label">Authorization mode:</ui:define>
                        <h:outputText value="#{scimConfigurationAction.organization.scimAuthMode eq 'bearer' ? 'OAuth' : 'Basic'}" style="color:#{scimConfigurationAction.organization.scimAuthMode eq 'bearer' ? 'blue' : 'green'};font-weight:bold" />
                    </s:decorate>
                </h:panelGrid>

                <richext:spacer height="16"/>

                <div id="updateButtons">
                    <h:commandButton action="#{scimConfigurationAction.changeScimStatus}" value="Change SCIM Status" />
                    <h:commandButton action="#{scimConfigurationAction.changeAuthMode}" value="Change Auth Mode" />
                    <h:commandButton action="#{scimConfigurationAction.cancel}" value="Cancel" />
                    <br></br> <br></br>
                    <h:outputText value="* Changing Auhorization mode requires server restart in order for the changes to take effect. " style="color:red" />
                </div>
            </h:form>
        </s:div>
    </ui:define>
</ui:composition>
